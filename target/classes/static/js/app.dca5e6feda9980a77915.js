webpackJsonp([1],{"0bya":function(e,t){},"6WtA":function(e,t){},"7Mfm":function(e,t){},BaNx:function(e,t){},FuSG:function(e,t){},NEK3:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("xd7I"),r=a("48sp"),o=a("4YfN"),s=a.n(o),i={name:"my-team",props:["userInfoProp"],data:function(){return{myTeamMember:null}},computed:s()({},Object(r.c)(["userInfoData"])),mounted:function(){var e=this;setTimeout(function(){e.axios({url:"/team",params:{leader:localStorage.teamleader}}).then(function(t){e.myTeamMember=t.data}).catch(function(t){e.$message({message:"信息加载失败,请稍后再试",type:"error",duration:1500,showClose:!0})})},200)}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-table",{staticStyle:{width:"80%"},attrs:{data:this.myTeamMember,stripe:""}},[t("el-table-column",{attrs:{prop:"name",label:"组员姓名",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"username",label:"学号",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"qq",label:"qq"}}),this._v(" "),t("el-table-column",{attrs:{prop:"school",label:"学院"}})],1)},staticRenderFns:[]};var u=a("C7Lr")(i,l,!1,function(e){a("cwRD")},"data-v-1829977f",null).exports,c={name:"team-list",data:function(){return{teamListInfo:[],message:{type:"",text:""}}},watch:{},computed:s()({},Object(r.c)(["searchTeamInfo","userInfoData"])),methods:{sendApplication:function(e){var t=this;this.axios({method:"post",url:"/apply",params:{receiver:e.leader,sender:this.userInfoData.username}}).then(function(e){switch(e.data){case 0:t.message.text="操作成功",t.message.type="successful";break;case 2:t.message.text="你已经在队伍里了,请勿二次组队",t.message.type="warning";break;case 3:t.message.text="操作失败,该队伍不接受申请",t.message.type="error";break;case 4:t.message.text="尚有未被处理的申请,不能继续申请",t.message.type="warning"}t.$message({message:t.message.text,type:t.message.type,duration:1500,showClose:!0})}).catch(function(e){t.$message({message:"操作失败!,请稍后再试",type:"error",duration:1500,showClose:!0})})}},mounted:function(){var e=this;this.axios({method:"get",url:"/foyer"}).then(function(t){e.teamListInfo=t.data}).catch(function(t){e.$message({message:"信息加载失败,请稍后再试!",type:"error",duration:1500,showClose:!0})})}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.teamListInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"user.name",label:"队长姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leader",label:"队长学号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.qq",label:"qq",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.school",label:"学院",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"current_num",label:"现成员数",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.sendApplication(t.row)}}},[e._v("申请加入")])]}}])})],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(c,d,!1,function(e){a("keYL")},null,null).exports,m={name:"new-request",data:function(){return{newRequest:[]}},methods:{approveReq:function(e){var t=this;this.axios({method:"post",url:"/approve",params:{sender:e.username,receiver:this.userInfoData.username}}).then(function(e){var a=t;t.util.getNewReq(a),t.util.feedbackInfo(a,e.data)}).catch(function(e){t.$message({message:"操作失败,请稍后再试",type:"error",duration:1500,showClose:!0})})},rejectReq:function(e){var t=this;this.axios({method:"post",url:"/reject",params:{sender:e.username,reason:""}}).then(function(e){var a=t;t.util.getNewReq(a),t.util.feedbackInfo(a,e.data)}).catch(function(e){t.$message({message:"操作失败,请稍后再试",type:"error",duration:1500,showClose:!0})})}},computed:s()({},Object(r.c)(["userInfoData"])),mounted:function(){this.util.getNewReq(this)}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.newRequest,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"学号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qq",label:"qq"}}),e._v(" "),a("el-table-column",{attrs:{prop:"school",label:"学院"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.approveReq(t.row)}}},[e._v("同意")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.rejectReq(t.row)}}},[e._v("拒绝")])]}}])})],1)},staticRenderFns:[]};var h=a("C7Lr")(m,f,!1,function(e){a("FuSG")},"data-v-416cce08",null).exports,v={name:"teamOperate",props:["userInfoProp"],data:function(){return{input:"",show:"",available:"",dialogVisible:!1,dialogInfo:[{username:"",leader:"",school:"",qq:"",current_num:""}],inviteDia:!1,applyDia:!1}},computed:s()({},Object(r.c)(["userInfoData"])),methods:s()({invite:function(){var e=this;this.axios({method:"post",url:"/invite",params:{sender:this.userInfoProp.username,receiver:this.input}}).then(function(t){var a=e;e.util.feedbackInfo(a,t.data)}).catch(function(t){e.$message({message:"请输入学号!",type:"error",duration:1500,showClose:!0})})},creatTeam:function(){var e=this;confirm(" ❗❗❗❗❗❗❗❗❗❗❗❗❗❗❗\n是否要创建一个队伍?\n创建完成后不可退出")&&this.axios({method:"post",url:"team/create",params:{leader:this.userInfoProp.username}}).then(function(t){"0"==t.data?(e.beingLeader(),e.$message({message:"队伍创建成功!",type:"successful",duration:1500,showClose:!0})):alert("创建队伍失败")}).catch(function(e){console.log("error:"+e)})},searchTeam:function(){var e=this;this.axios({method:"get",url:"/search",params:{leader:this.input}}).then(function(t){""!==t.data?(console.log(t),e.dialogInfo=t.data,e.dialogVisible=!0):e.$message({message:"无记录",type:"warning",duration:1500,showClose:!0})}).catch(function(e){console.log("error:"+e)})},showTeam:function(e){this.axios({method:"post",url:"/team/setDisplay",params:{leader:this.userInfoProp.teamleader,status:e}}).then(function(e){}).catch(function(e){console.log("error:"+e)})},teamAvailable:function(e){this.axios({method:"post",url:"/team/setAvailable",params:{leader:this.userInfoProp.teamleader,status:e}}).then(function(e){}).catch(function(e){console.log("error:"+e)})},sendApply:function(){var e=this;this.axios({method:"post",url:"/apply",params:{receiver:this.dialogInfo[0].leader,sender:this.userInfoProp.username}}).then(function(t){var a=e;e.util.feedbackInfo(a,t.data),e.dialogVisible=!1}).catch(function(t){console.log(e.userInfoProp),e.$message({message:"操作失败!,请稍后再试",type:"error",duration:1500,showClose:!0}),e.dialogVisible=!1})},answerInvite:function(e){var t=this;this.inviteDia=!1,this.axios({method:"post",url:"/answerInvite",params:{userId:this.userInfoData.username,answer:e.currentTarget.value}}).then(function(e){var a=t;t.util.feedbackInfo(a,e.data)}).catch(function(e){t.$message({message:"操作失败!,请稍后再试",type:"error",duration:1500,showClose:!0})})},withdrawApply:function(){var e=this;this.inviteDia=!1,this.axios({method:"post",url:"/withdraw",params:{userId:this.userInfoData.username}}).then(function(t){var a=e;e.updateStatus(),e.util.feedbackInfo(a,t.data)}).catch(function(t){e.$message({message:"操作失败!,请稍后再试",type:"error",duration:1500,showClose:!0})})}},Object(r.b)(["teamInfo","beingLeader","updateTeam","updateStatus"])),created:function(){!0===this.userInfoProp.display?this.show="1":this.show="0",!0===this.userInfoProp.available?this.available="1":this.available="0"}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[this.userInfoProp.leader?a("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入被邀学号",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}):e._e(),e._v(" "),this.userInfoProp.teamleader?e._e():a("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入队长学号",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),this.userInfoProp.leader?a("el-button",{attrs:{round:"",type:"primary"},on:{click:e.invite}},[e._v("邀请")]):e._e(),e._v(" "),this.userInfoProp.teamleader?e._e():[a("el-button",{attrs:{round:"",type:"primary"},on:{click:e.searchTeam}},[e._v("搜索队伍")]),e._v(" "),a("el-button",{attrs:{round:"",type:"primary"},on:{click:e.creatTeam}},[e._v("创建队伍")])],e._v(" "),a("el-dialog",{attrs:{title:"是否申请加入队伍",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialogInfo}},[a("el-table-column",{attrs:{prop:"user.name",label:"队长",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.qq",label:"qq",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"current_num",label:"当前人数",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.school",label:"队长学院",width:"180"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sendApply}},[e._v("确 定")])],1)]),e._v(" "),a("br"),e._v(" "),!this.userInfoProp.teamleader&&this.userInfoProp.invitation_id?a("el-badge",{staticClass:"item",attrs:{value:"1"}},[a("el-popover",{attrs:{placement:"bottom",width:"200",size:"small"},model:{value:e.inviteDia,callback:function(t){e.inviteDia=t},expression:"inviteDia"}},[a("p",[e._v("\n          队长: "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.userInfoProp.invitation_id))]),e._v(" 邀请你加入他的队伍\n        ")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini",value:"0"},on:{click:function(t){return e.answerInvite(t)}}},[e._v("拒绝")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",value:"1"},on:{click:function(t){return e.answerInvite(t)}}},[e._v("同意")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("邀请信息")])],1)],1):e._e(),e._v(" "),!this.userInfoProp.teamleader&&this.userInfoProp.applicationStatus?a("el-badge",{staticClass:"item",attrs:{value:"1"}},[a("el-popover",{attrs:{placement:"bottom",width:"200",size:"small"},model:{value:e.applyDia,callback:function(t){e.applyDia=t},expression:"applyDia"}},[a("p",[e._v("\n          我的申请状态: "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(0==this.userInfoProp.applicationStatus?"未处理":this.userInfoProp.applicationStatus))])]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[0==this.userInfoProp.applicationStatus?a("el-button",{attrs:{type:"primary",size:"mini",value:"1"},on:{click:e.withdrawApply}},[e._v("撤回申请\n          ")]):e._e()],1),e._v(" "),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("我的申请")])],1)],1):e._e(),e._v(" "),this.userInfoProp.leader?[a("el-divider"),e._v(" "),a("el-switch",{attrs:{"active-text":"展示队伍","inactive-text":"隐藏队伍","active-value":"1","inactive-value":"0"},on:{change:e.showTeam},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),e._v(" "),a("el-divider"),e._v(" "),a("el-switch",{attrs:{"active-text":"接受申请","inactive-text":"拒绝申请","active-value":"1","inactive-value":"0"},on:{change:e.teamAvailable},model:{value:e.available,callback:function(t){e.available=t},expression:"available"}})]:e._e()],2)},staticRenderFns:[]};var b=a("C7Lr")(v,_,!1,function(e){a("0bya")},"data-v-f764c814",null).exports;n.default.use(r.a);var g=new r.a.Store({state:{userInfoData:{username:"请先登录",name:"unknown",school:"通信",qq:"---",teamleader:"",applicationStatus:0,invitation_id:0,leader:!1,available:!0,display:!1},searchTeamInfo:{leader:"init"}},mutations:{initUserInfo:function(e,t){for(var a in t)e.userInfoData[a]=t[a]},updateTeam:function(e,t){e.userInfoData.display=t[0].is_display,e.userInfoData.available=t[0].available},teamInfo:function(e,t){for(var a in t)e.searchTeamInfo[a]=t[a]},beingLeader:function(e){e.userInfoData.teamleader=e.userInfoData.username,e.userInfoData.leader=!0},updateStatus:function(e){e.userInfoData.applicationStatus=0}}}),x={data:function(){return{form:{name:"",password:""}}},props:["userInfoProp"],computed:s()({doLoop:function(){for(;0!==this.arr;)console.log(this.arr),this.arr=this.arr}},Object(r.c)(["userInfoData"])),mounted:function(){console.log(this.arr)}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密　码"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("立即创建")])],1)],1)},staticRenderFns:[]};var I=a("C7Lr")(x,w,!1,function(e){a("R4Nv")},"data-v-1cff1fc1",null).exports,y={name:"userInfo",props:["userInfoProp"],store:g,data:function(){return{}},components:{teamOperate:b,test:I},computed:s()({},Object(r.c)(["userInfoData"])),methods:s()({},Object(r.b)(["initUserInfo","updateTeam"])),mounted:function(){this.util.hello()}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("dl",[a("dt",[a("h1",[e._v(e._s(e.userInfoProp.name))])]),e._v(" "),a("el-divider"),e._v(" "),a("dd",[e._v("学号:"+e._s(e.userInfoProp.username))]),e._v(" "),a("dd",[e._v("学院:"+e._s(e.userInfoProp.school))]),e._v(" "),a("dd",[e._v("组长:"+e._s(e.userInfoProp.teamleader))])],1)])},staticRenderFns:[]};var S=a("C7Lr")(y,k,!1,function(e){a("6WtA")},"data-v-38b5814d",null).exports,C={name:"Team",data:function(){return{userInfoProp:null}},store:g,components:{teamOperate:b,userInfo:S,myTeam:u,newRequest:h,teamList:p},computed:s()({},Object(r.c)(["userInfoData"])),mounted:function(){this.userInfoProp=this.userInfoData,console.log(this.userInfoProp)}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"side"}},[e.userInfoProp?a("userInfo",{attrs:{"user-info-prop":this.userInfoProp}}):e._e(),e._v(" "),e.userInfoProp?a("teamOperate",{attrs:{"user-info-prop":this.userInfoProp}}):e._e()],1),e._v(" "),a("div",{attrs:{id:"view"}},[e.userInfoProp?[a("h2",[e._v("我的队伍")]),e._v(" "),a("myTeam",{attrs:{"user-info-prop":this.userInfoProp}}),e._v(" "),a("h2",[e._v("队伍大厅")]),e._v(" "),a("teamList",{attrs:{"user-info-prop":this.userInfoProp}}),e._v(" "),a("h2",[e._v("入队申请")]),e._v(" "),a("newRequest",{attrs:{"user-info-prop":this.userInfoProp}})]:e._e()],2)])},staticRenderFns:[]};var D=a("C7Lr")(C,q,!1,function(e){a("NEK3")},"data-v-50c2b36c",null).exports,P={name:"login",data:function(){return{form:{username:"",password:"",radio:"学生"}}},methods:{initInformation:function(){var e=this;if(this.loginUser){e.axios.all([e.axios({method:"post",url:"/userInfo",params:{userId:e.loginUser}}),e.axios({method:"get",url:"/search",params:{leader:e.loginUser}})]).then(e.axios.spread(function(t,a){e.initUserInfo(t.data),a.data&&e.updateTeam(a.data),localStorage.teamleader=e.userInfoData.teamleader,e.userInfoToOpe=e.userInfoData})).catch(function(e){localStorage.token=""})}else location.href="#/login"},loginSys:function(){var e=this;this.axios({method:"post",url:"/login",params:{username:this.form.username,password:this.form.password}}).then(function(t){var a=e;localStorage.token=e.form.username,"r"===t.data?(e.initInformation(),a.$message({message:"验证成功!请先完善个人信息",type:"waring",duration:1500,showClose:!0}),location.href="http://localhost:8081/complete#/complete"):"i"===t.data?(e.initInformation(),location.href=""):"n"===t.data?a.$message({message:"用户不存在",type:"error",duration:1500,showClose:!0}):"f"===t.data&&a.$message({message:"密码错误",type:"error",duration:1500,showClose:!0}),console.log(t)}).catch(function(e){})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"nav"}}),e._v(" "),a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"side"}}),e._v(" "),a("div",{attrs:{id:"login"}},[a("div",{staticStyle:{"text-align":"center",margin:"10px 0",border:"3px solid black"}},[a("el-input",{staticStyle:{width:"50%",margin:"10px 0"},attrs:{placeholder:"请输入学号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),a("el-input",{staticStyle:{width:"50%",margin:"10px 0"},attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{margin:"10px 0"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[a("el-radio-button",{attrs:{label:"学生"}}),e._v(" "),a("el-radio-button",{attrs:{label:"老师"}}),e._v(" "),a("el-radio-button",{attrs:{label:"管理员"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.loginSys}},[e._v("登录")])],1)])])])},staticRenderFns:[]};var R=a("C7Lr")(P,$,!1,function(e){a("uC1m")},"data-v-5f946a97",null).exports,T={name:"CompleteInfo",data:function(){return{username:localStorage.token,password:"",name:"",qq:"",school:"",options:[{value:"通信工程学院",label:"通信工程学院"},{value:"电子工程学院",label:"电子工程学院"},{value:"计算机科学与技术学院",label:"计算机科学与技术学院"}]}},methods:{completeInfoInsert:function(){var e=this;this.axios({method:"post",url:"/registry",params:{username:parseInt(this.username),name:this.name,password:this.password,school:this.school,qq:this.qq}}).then(function(t){e.$message({message:"操作成功",type:"successful",duration:1500,showClose:!0})}).catch(function(e){self.$message({message:"操作失败!请稍后再试",type:"error",duration:1500,showClose:!0})})}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center",margin:"10px 0 10px 0"}},[a("el-input",{staticStyle:{width:"30%",margin:"10px 0 10px 0"},attrs:{placeholder:"请输入学号",readonly:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("br"),e._v(" "),a("el-input",{staticStyle:{width:"30%",margin:"10px 0 10px 0"},attrs:{placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("br"),e._v(" "),a("el-input",{staticStyle:{width:"30%",margin:"10px 0 10px 0"},attrs:{placeholder:"请输入姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("br"),e._v(" "),a("el-input",{staticStyle:{width:"30%",margin:"10px 0 10px 0"},attrs:{placeholder:"请输入QQ"},model:{value:e.qq,callback:function(t){e.qq=t},expression:"qq"}}),e._v(" "),a("br"),e._v(" "),[a("el-select",{staticStyle:{width:"30%",margin:"10px 0 10px 0"},attrs:{placeholder:"请选择学院信息"},model:{value:e.school,callback:function(t){e.school=t},expression:"school"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.completeInfoInsert}},[e._v("完成")])],2)},staticRenderFns:[]};var O=[{path:"/",component:I,meta:{text:"测试组件",teamleader:!1,key:8}},{path:"/team",component:D,meta:{text:"组队",teamleader:!1,key:4}},{path:"/login",component:R,meta:{text:"登录",teamleader:!1,key:5}},{path:"/complete",component:a("C7Lr")(T,L,!1,function(e){a("kUbU")},"data-v-20e94380",null).exports,meta:{text:"完善个人信息",teamleader:!1,key:6}},{path:"/operate",component:b,meta:{text:"我的消息",teamleader:!1,key:7}}],U={name:"navbar",data:function(){return{routerSet:O,activeIndex:""}},created:function(){this.activeIndex=window.location.hash.substring(1)}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:""},on:{select:e.handleSelect}},e._l(e.routerSet,function(t){return a("el-menu-item",{key:t.meta.key,attrs:{index:t.path}},[e._v("\n    "+e._s(t.meta.text)+"\n  ")])}),1)},staticRenderFns:[]};var A={name:"MainNavBar",data:function(){return{mainRouterSet:O,mainActiveIndex:""}},created:function(){this.mainActiveIndex=window.location.hash.substring(1)}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.mainActiveIndex,mode:"horizontal","background-color":"#2a3f54","text-color":"#fff","active-text-color":"#ffd04b",router:""}},[e._l(e.mainRouterSet,function(t){return t.children?e._e():a("el-menu-item",{key:t.meta.key,attrs:{index:t.path}},[e._v("\n    "+e._s(t.meta.text)+"\n  ")])}),e._v(" "),e._l(e.mainRouterSet,function(t){return t.children?[a("el-submenu",{attrs:{index:""}},[a("template",{slot:"title"},[e._v(e._s(t.meta.text))]),e._v(" "),e._l(t.children,function(t){return a("el-menu-item",{attrs:{index:t.path}},[e._v("\n          "+e._s(t.meta.text)+"\n      ")])})],2)]:e._e()})],2)},staticRenderFns:[]};var E={name:"SideBar",data:function(){return{isCollapse:!1}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},toogleCollapse:function(e){}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:e.isCollapse,"background-color":"#2a3f54","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[a("el-menu-item",{attrs:{index:"1"}},[a("div",{on:{click:function(t){e.isCollapse=!e.isCollapse}}},[a("i",{staticClass:"el-icon-d-arrow-right"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("展开/关闭菜单")])])]),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的")])]),e._v(" "),a("el-menu-item",{attrs:{index:"4"}},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("操作")])]),e._v(" "),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("操作")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],1)],2)],1)},staticRenderFns:[]};var z={name:"App",components:{navbar:a("C7Lr")(U,j,!1,function(e){a("hADS")},"data-v-d6b324cc",null).exports,userInfo:S,teamOperate:b,MainNavBar:a("C7Lr")(A,N,!1,function(e){a("OLJ7")},"data-v-5e0672a7",null).exports,SideBar:a("C7Lr")(E,F,!1,function(e){a("BaNx")},null,null).exports,Login:R},store:g,data:function(){return{userInfoToOpe:null,loginUser:""}},watch:{loginUser:function(){var e=this;e.axios.all([e.axios({method:"post",url:"/userInfo",params:{userId:e.loginUser}}),e.axios({method:"get",url:"/search",params:{leader:e.loginUser}})]).then(e.axios.spread(function(t,a){e.initUserInfo(t.data),a.data&&e.updateTeam(a.data),console.log(a.data),e.userInfoToOpe=e.userInfoData})).catch(function(e){console.log(e)})}},computed:s()({},Object(r.c)(["userInfoData"])),methods:s()({},Object(r.b)(["initUserInfo","updateTeam"])),mounted:function(){this.loginUser=localStorage.token;var e=this;if(this.loginUser){e.axios.all([e.axios({method:"post",url:"/userInfo",params:{userId:e.loginUser}}),e.axios({method:"get",url:"/search",params:{leader:e.loginUser}})]).then(e.axios.spread(function(t,a){e.initUserInfo(t.data),a.data&&e.updateTeam(a.data),localStorage.teamleader=e.userInfoData.teamleader,e.userInfoToOpe=e.userInfoData})).catch(function(e){localStorage.token=""})}else location.href="#/login"}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[void 0,this._v(" "),t("div",{attrs:{id:"container"}},[this.loginUser?t("SideBar"):this._e(),this._v(" "),t("div",{attrs:{id:"rightSide"}},[this.loginUser?t("div",{attrs:{id:"header"}},[t("MainNavBar")],1):this._e(),this._v(" "),t("div",{attrs:{id:"content"}},[t("router-view")],1)])],1)],2)},staticRenderFns:[]};var B=a("C7Lr")(z,M,!1,function(e){a("7Mfm")},null,null).exports,V=a("7LQH");n.default.use(V.a);var H=new V.a({routes:O}),J=a("rVsN"),Q=a.n(J),Y=a("Muz9"),G=a.n(Y);G.a.defaults.timeout=5e3,G.a.interceptors.request.use(function(e){return console.log(e),e},function(e){return Q.a.reject(e)}),G.a.interceptors.response.use(function(e){return e},function(e){return Q.a.reject(e.response.data)});var K=G.a,W={hello:function(){console.log("hello world")},feedbackInfo:function(e,t){var a={text:"",type:""};switch(t){case 0:a.text="操作成功",a.type="successful";break;case 1:a.text="用户不存在",a.type="warning";break;case 2:a.text="操作失败!您已经在队里了",a.type="error";break;case 3:a.text="操作失败!该队伍已满或不接受申请",a.type="warning";break;case 4:a.text="操作失败!尚有未被处理的申请,不能继续申请",a.type="warning";break;case 5:a.text="操作失败!您的队伍已满员或者不接受申请",a.type="warning";break;case 6:a.text="操作失败!该用户已经组队",a.type="warning";break;case 7:a.text="操作失败!您的队伍已满员",a.type="warning"}e.$message({message:a.text,type:a.type,duration:1500,showClose:!0})},getNewReq:function(e){setTimeout(function(){e.axios({method:"get",url:"/mail",params:{userId:localStorage.token}}).then(function(t){e.newRequest=t.data}).catch(function(t){e.$message({message:"信息加载失败,请稍后再试",type:"error",duration:1500,showClose:!0})})},100)}},Z=a("NxjZ"),X=a.n(Z);a("zlkP");n.default.use(r.a),n.default.use(X.a),n.default.config.productionTip=!1,n.default.prototype.axios=K,n.default.prototype.util=W,K.defaults.baseURL="/api",K.defaults.headers.post["Content-Type"]="application/json",new n.default({el:"#app",router:H,components:{App:B},template:"<App/>"})},OLJ7:function(e,t){},R4Nv:function(e,t){},cwRD:function(e,t){},hADS:function(e,t){},kUbU:function(e,t){},keYL:function(e,t){},uC1m:function(e,t){},zlkP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dca5e6feda9980a77915.js.map